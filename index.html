<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8>
    <title>Maddy's House</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="index.css">
    <!-- AFrame section  -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js">
    </script>
    <!-- required for animation -->
    <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.1/dist/aframe-extras.min.js"></script>
    <!-- dom events disabled - use this for text box overlay  -->
    <script src="./domoverlay.js" type="module"></script>
</head>

<body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs='sourceType: webcam; debugUIEnabled: false'>
        <div id="overlay">
            <header id="overlay-content">
                <a id="close" style="display: none" href="./index.html">X</a>
                <div id="overlay-text">
                    <p id="overlay-title">
                        How many weeks?
                        <a href="./index.html">Back</a>
                    </p>
                    <button class="text-btn" id="backToButtons" style="display: none">Back</button>
                    <button class="text-btn" id="closeTextBox" style="display: none">OK</button>
                    <div id="session-info"></div>
                    <div id="warning-zone"></div>
                    <div id="weeks-buttons">
                        <button id="4" class="weeks-button">
                            4 weeks
                        </button>
                        <button id="5" class="weeks-button">
                            5 weeks
                        </button>
                        <button id="6" class="weeks-button">
                            6 weeks
                        </button>
                        <button id="7" class="weeks-button">
                            7 weeks
                        </button>
                        <button id="8" class="weeks-button">
                            8 weeks
                        </button>
                        <button id="10" class="weeks-button">
                            10 weeks
                        </button>
                        <button id="12" class="weeks-button">
                            12 weeks
                        </button>
                        <button id="20" class="weeks-button">
                            20 weeks
                        </button>
                        <button id="40" class="weeks-button">
                            40 weeks
                        </button>
                        <button id="all" class="weeks-button">
                            All
                        </button>
                    </div>
                    <div>
                        <a href="./assets/heartl2.png" target="_blank" rel="noreferrer nofollower"><img id="demo-img" src="./assets/heartl2.png"></a>
                    </div>
                </div>
            </header>
        </div>
        <a-assets>
            <a-asset-item id="fetus" src="./assets/fetus-transparent4.gltf"></a-asset-item>
        </a-assets>

        <!-- using custom pattern generator: https://jeromeetienne.github.io/AR.js/three.js/examples/marker-training/examples/generator.html NOTE use THICK lines (50 stroke). Due to a bug, white background of your original image must be changed to rgb(240, 240, 240) before uploading, for generator to recognise it. -->

        <a-marker type="pattern" url="./assets/pattern-heartl2.patt">
            <a-entity id="4weeks" gltf-model="url(./assets/fetusfourweeks.gltf)" rotation=" 0 270 90" scale="0.2 0.2 0.2" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="5weeks" gltf-model="url(./assets/fetusfiveweeks.gltf)" rotation=" 0 270 90" scale="0.4 0.4 0.4" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="6weeks" gltf-model="url(./assets/fetussixweeks.gltf)" rotation=" 0 270 90" scale="0.6 0.6 0.6" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="7weeks" gltf-model="url(./assets/fetussevenweeks.gltf)" rotation=" 0 270 90" scale="0.8 0.8 0.8" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="8weeks" gltf-model="url(./assets/fetuseightweeks.gltf)" rotation=" 0 270 90" scale="1 1 1" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="10weeks" gltf-model="url(./assets/fetustenweeks.gltf)" rotation=" 0 270 90" scale="1.2 1.2 1.2" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="12weeks" gltf-model="url(./assets/fetustwelveweeks.gltf)" rotation=" 0 270 90" scale="1.4 1.4 1.4" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="20weeks" gltf-model="url(./assets/fetustwentyweeks.gltf)" rotation="0 270 90" scale="4 4 4" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="40weeks" gltf-model="url(./assets/fetusfortyweeks.gltf)" rotation="0 270 90" scale="6 6 6" animation-mixer="loop:pingpong" visible="false"></a-entity>
            <a-entity id="allweeks" gltf-model="#fetus" rotation="0 270 90" scale="2 2 2" animation-mixer="loop:repeat" visible="false"></a-entity>
        </a-marker>

        <a-entity camera></a-entity>

        <a-entity light="type: ambient; color: #F5D458; intensity: 1.5"></a-entity>
        <a-entity light="type: directional; color: #F5D458; intensity: 15.5" position="-1 1 0"></a-entity>

    </a-scene>
</body>

</html>