<!DOCTYPE html>
<html>

<head>
    <meta charset=utf-8>
    <title>Maddy's House</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <style>
        body {
            margin: 0;
        }

        canvas {
            width: 100%;
            height: 800px
        }

        button {
            width: 250px;
            border: 1px solid black;
            font-family: system-ui, sans-serif;
            background: #74edc5;
				font-weight: 100;
            font-size: 18px;
            line-height: 170%;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            letter-spacing: 1.25px;
            transition: all 200ms linear;
        }
        button:hover {
				background: #02a0a2;
				border-color: rgba(0, 0, 0, 0.05) !important;  
				border-width: 1px 0px 0px 1px !important;
				box-shadow: 1px 1px 2px rgba(255, 255, 255, 0.2) !important;
				font-weight: 300;
				transition: all 200ms linear;
				cursor: pointer;
			}
        a {
            text-decoration: none;
            color: black;
            cursor: pointer;
        }

        .subtitle {
            font-size: 40px
        }

        #title {
            font-size: 100px;
        }

        #noSafariDiv {
            text-align: center;
        }

        .visible {
            visibility: visible;
        }

        .hidden {
            visibility: hidden;
        }

        .textBlock {
            margin-top: 40px;
            margin-left: 60px;
            font-family: monospace, sans-serif;
            text-align: center;
            display: flex;
            flex-direction: column;
        }

        .center {
            text-align: center;
        }

        .flex-center {
            display: flex;
            flex-direction: column;
            align-items: center
        }

        .image-width {
            width: 100%;
            max-width: 700px
        }

        .aframe {
            margin-top: 100px;
            display: flex;
            flex-direction: column;
            align-items: center
        }

        .footer {
            margin-top: 200px;
            margin-bottom: 80px;
            display: flex;
            flex-direction: column;
            align-items: center
        }

        #accordionOne, #accordionTwo {
            cursor: pointer;
            color:#02a0a2;
            transition: 0.4s;
            margin-top: 20px;
            width: auto;
            border: none;
            font-family: inherit;
            background: none;
            font-weight: inherit;
            font-size: inherit;
            line-height: inherit;
            text-align: inherit;
            display: inherit;
            align-items: inherit;
            justify-content: center;
            letter-spacing: inherit;
        }

        /* Add a background color to the button if it is clicked on (add the .active class with JS), and when you move the mouse over it (hover) */
        .active, #accordionOne:hover, #accordionTwo:hover {
            background-color: #ccc;
        }

        /* Style the accordion panel. Note: hidden by default */
        .panel {
            padding: 0 18px;
            background-color: white;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            text-align: left;
        }

        .panel a {
            text-decoration: underline;
        }

        li {
            line-height: 140%;
            padding-bottom: 10px;
        }

        #carrot-down, #carrot-down-two{
            display:inline;
            margin-right: 5px;
        }
        #carrot-up, #carrot-up-two{
            display: none;
            margin-right: 5px;
        }


        @media screen and (max-width: 690px) {
            .textBlock {
                margin-left: 30px;
                margin-right: 30px;
            }
            canvas {
                height: 400px !important;
            }
            #title {
                font-size: 50px;
            }
        }
    </style>
</head>

<body>
    <script type="text/javascript" src="./pts.js"></script>
    <script type="text/javascript" src="./sound.js"></script>
    <script type="module">
        // flashing words
        var title = document.getElementById("title")
        var words = [...document.getElementsByClassName("words")]
        var ticker = true

        function repeatingFunc() {
            setTimeout(repeatingFunc, 500);
            ticker = !ticker
            ticker ? title.style.color = "black" : title.style.color = "#ef4202"
            words.forEach(word => ticker ? word.style.color = "black" : word.style.color = "#02a0a2")
        }

        setTimeout(repeatingFunc, 500);

        // browser detection
        var sBrowser, sUsrAg = navigator.userAgent;

        // The order matters here, and this may report false positives for unlisted browsers.
        if (sUsrAg.indexOf("Firefox") > -1) {
            sBrowser = "Mozilla Firefox";
            const element = document.getElementById("safariDiv")
            element.classList.remove('hidden')
            element.classList.add('visible')
            const noSafari = document.getElementById("noSafariDiv")
            noSafari.classList.remove('visible')
            noSafari.classList.add('hidden')
        } else if (sUsrAg.indexOf("SamsungBrowser") > -1) {
            sBrowser = "Samsung Internet";
        } else if (sUsrAg.indexOf("Opera") > -1 || sUsrAg.indexOf("OPR") > -1) {
            sBrowser = "Opera";
        } else if (sUsrAg.indexOf("Trident") > -1) {
            sBrowser = "Microsoft Internet Explorer";
        } else if (sUsrAg.indexOf("Edge") > -1) {
            sBrowser = "Microsoft Edge";
        } else if (sUsrAg.indexOf("Chrome") > -1) {
            sBrowser = "Google Chrome or Chromium";
            const noSafari = document.getElementById("noSafariDiv")
            noSafari.classList.remove('visible')
            noSafari.classList.add('hidden')
        } else if (sUsrAg.indexOf("Safari") > -1) {
            sBrowser = "Apple Safari";
            const noSafari = document.getElementById("noSafariDiv")
            noSafari.classList.remove('visible')
            noSafari.classList.add('hidden')
        } else {
            sBrowser = "unknown";
            noSafari()
        }

    </script>
    <script>
        function clickMeOne() {
            var acc = document.getElementById("accordionOne");
            var carrotDown = document.getElementById("carrot-down");
            var carrotUp = document.getElementById("carrot-up");
            var i;
            
            acc.classList.toggle("active");
            var panel = acc.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
                carrotDown.style.display = "none"
                carrotUp.style.display = "inline"
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                carrotDown.style.display = "inline"
                carrotUp.style.display = "none"
            }
        }
        function clickMeTwo() {
            var acc = document.getElementById("accordionTwo");
            var carrotDown = document.getElementById("carrot-down-two");
            var carrotUp = document.getElementById("carrot-up-two");
            var i;
            
            acc.classList.toggle("active");
            var panel = acc.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
                carrotDown.style.display = "none"
                carrotUp.style.display = "inline"
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
                carrotDown.style.display = "inline"
                carrotUp.style.display = "none"
            }
        }
    </script>
    <div class="textBlock">
        <div>
            <h1 id="title" style="color:#ef4202">Why Hello There</h1>
            <h3 class="words" style="color:#02a0a2">Our world has changed</h3>
            <h3 class="words" style="color:#02a0a2">And now we are cavemen</h3>
            <h3 class="words" style="color:#02a0a2">Of the virtual age</h3>
            <br />
        </div>
        <div id="noSafariDiv" class="visible">
            <h2 style="color:black">Please open in a different browser (Safari, Chrome, Firefox)</h2>
        </div>
        <div class="center">
            <h3 class="subtitle" style="color:#ef4202">WebXR with Quicklook</h3>
            <p style="color:#02a0a2">Click an image</p>
            <p style="color:#02a0a2">Requires an iPhone or iPad with iOS 12 or later</p>
        </div>
        <!-- Quicklook automatically turns .usdz into AR on the right device -->
        <div>
            <a href='./assets/Maddy_01_dance.usdz' rel='ar'>
                <img class='image-width' src='./assets/me.png'>
            </a>
        </div>
        <div>
            <a href='./assets/droggo_anim.usdz' rel='ar'>
                <img class='image-width' src='./assets/dragon.jpeg'>
            </a>
        </div>
        <button id="accordionOne" onclick="clickMeOne()"><span id="carrot-down">&#9660;</span><span id="carrot-up">&#9650;</span>How do you do this?</button>
        <div class="panel">
            <ol>
                <li>Get a free animated 3D model from a website like the <a href="https://assetstore.unity.com/" target="_blank" rel="noopener noreferrer">Unity Asset store</a>, or create your own using a free app such as <a href="https://poly.cam/" target="_blank" rel="noopener noreferrer">Polycam</a>.These generate a 3D model from hundreds of photos. Use the Polycam to take photos of your subject from every angle. Make sure they stay very still. Polycam will stitch the photos together to give you a model.</li>
                <li>Convert it to a .usdz file using <a href="https://developer.apple.com/augmented-reality/tools/" target="_blank" rel="noopener noreferrer">RealityConverter</a>, which you can download for free from the Apple website.</li>
                <li>Create a <a href="https://www.w3schools.com/html/html_basic.asp" target="_blank" rel="noopener noreferrer">standard html webpage</a>. <a href="https://www.w3schools.com/html/html_links.asp"target="_blank" rel="noopener noreferrer"> Add a link</a> to your .usdz model. <a href="https://github.com/bsides44/bsides44.github.io" target="_blank" rel="noopener noreferrer"> You can use the code for this webpage</a> as an example.</li>
                <li>Push your code live using a free platform such as <a href="https://render.com/" target="_blank" rel="noopener noreferrer">render.com</a></li>
                <li>Apple's Quicklook tools will automatically convert this to AR and VR on compatible browsers and devices. It does all the work for you.</li>
                <li>That's it! Every step is free and user-friendly.</li>
            </ol>    
        </div>
        <div class="aframe">
            <h3 class="subtitle" style="color:#ef4202">WebXR with Aframe and AR.js</h3>
            <p style="color:#02a0a2">Requires Chrome or Safari</p>
            <a href="https://aframe-web.onrender.com/" target="_blank" rel="noopener noreferrer"><button>Go to page</button></a>
            <button id="accordionTwo" onclick="clickMeTwo()"><span id="carrot-down-two">&#9660;</span><span id="carrot-up-two">&#9650;</span>How do you do this?</button>
                <div class="panel">
                    <ol>
                        <li>Create your model. Use <a href="https://www.capturingreality.com/" target="_blank" rel="noopener noreferrer">RealityCapture</a> (Windows only) or download a free app such as <a href="https://poly.cam/" target="_blank" rel="noopener noreferrer">Polycam</a>. These generate a 3D model from hundreds of photos. Use RealityCapture or Polycam to take photos of your subject from every angle. Make sure they stay very still. RealityCapture or Polycam will stitch the photos together to give you a model.</li>
                        <li>Export the model and textures from RealityCapture or Polycam as a .fbx file with 20k polygons.</li>
                        <li>Open a free animations website like <a href="https://www.mixamo.com/" target="_blank" rel="noopener noreferrer">Mixamo.com</a>. Find an animation you like. Upload your .fbx model to the website and udse the website to apply the animation. Download the animated model as an .fbx file.</li>
                        <li>Use a free 3D modelling software like <a href="https://www.blender.org/download/"target="_blank" rel="noopener noreferrer"> Blender</a> to import your .fbx file and export it as a .gltf file.</li>
                        <li>Create a <a href="https://www.w3schools.com/html/html_basic.asp" target="_blank" rel="noopener noreferrer">standard html webpage</a>. Add a <a href="https://aframe.io/docs/1.3.0/introduction/" target="_blank" rel="noopener noreferrer">basic A-frame scene</a>. Import the .gltf model as an <a href="https://aframe.io/docs/1.3.0/guides/building-a-basic-scene.html" target="_blank" rel="noopener noreferrer">entity</a>. <a href="https://github.com/bsides44/AFrame_web" target="_blank" rel="noopener noreferrer" style="text-decoration: underline">You can use my code as an example.</a></li>
                        <li>Push your code live using a free platform such as <a href="https://render.com/" target="_blank" rel="noopener noreferrer">render.com</a></li>
                        <li>That's it! Every step is free and user-friendly.</li>
                    </ol>    
                </div>
        </div>
        <div class="footer">
            <h3 class="subtitle" style="color:#ef4202">Thanks for visiting Maddy's playground</h1>
            <a href="https://www.maddyking44.com/#fh5co-contact" target="_blank" rel="noopener noreferrer"><button>Contact</button></a>
            <br/>
            <a href="https://www.maddyking44.com"  target="_blank" rel="noopener noreferrer"><button>Visit maddyking44.com</button></a>
            <br />
        </div>
    </div>
</body>

</html>